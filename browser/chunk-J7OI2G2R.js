import{a as Q}from"./chunk-XV2HTRG2.js";import{d as U}from"./chunk-FXV2WG2N.js";import{a as L}from"./chunk-BMB36OVI.js";import{b as j,d as F,f as R,j as W,k as N,l as H,n as $}from"./chunk-2DMB7Z6Q.js";import{$a as b,Fa as D,J as y,Ja as f,Jb as V,Kb as z,La as G,Lb as q,Ua as c,Va as e,Wa as i,X as _,Xa as d,Y as h,Z as u,_ as v,a as E,ab as x,b as I,bb as m,fb as S,gb as C,hb as n,i as A,ib as p,jb as k,kb as w,lb as M,mb as P,nb as O,ua as a,za as T}from"./chunk-HQDDE6HI.js";function te(l,o){if(l&1&&(e(0,"span",50),n(1),i()),l&2){let t=m().$implicit;a(),k("(",t.count,")")}}function ie(l,o){if(l&1){let t=b();e(0,"button",48),x("click",function(){let s=_(t).$implicit,g=m(2);return h(g.setActiveTab(s.id))}),n(1),f(2,te,2,1,"span",49),i()}if(l&2){let t=o.$implicit,r=m(2);C("active",r.activeTab===t.id),a(),k(" ",t.label," "),a(),c("ngIf",t.count>0)}}function ne(l,o){l&1&&(e(0,"span"),n(1,"replied via Customer Portal"),i())}function oe(l,o){l&1&&(e(0,"span"),n(1,"replied as Agent"),i())}function re(l,o){if(l&1&&(e(0,"div",68)(1,"div",69)(2,"div",70)(3,"div",71),n(4),i(),e(5,"div",72)(6,"div",73),n(7),i(),e(8,"div",74),f(9,ne,2,0,"span",45)(10,oe,2,0,"span",45),i()()(),e(11,"div",75),n(12),i()(),e(13,"div",76),n(14),i(),e(15,"div",77)(16,"button",78),u(),e(17,"svg",8),d(18,"path",79),i()(),v(),e(19,"button",80),u(),e(20,"svg",8),d(21,"path",81),i()()()()),l&2){let t=o.$implicit,r=m(3);a(3),S("background","linear-gradient(135deg, #"+t.author.initials.charCodeAt(0).toString(16)+t.author.initials.charCodeAt(1).toString(16)+"00, #"+t.author.initials.charCodeAt(1).toString(16)+t.author.initials.charCodeAt(0).toString(16)+"00)"),a(),k(" ",t.author.initials," "),a(3),p(t.author.name),a(2),c("ngIf",t.author.type==="customer"),a(),c("ngIf",t.author.type==="agent"),a(2),w(" ",r.formatDate(t.createdAt)," (",r.getTimeAgo(t.createdAt),") "),a(2),k(" ",t.content," ")}}function ae(l,o){l&1&&(e(0,"span"),n(1,"Sending..."),i())}function le(l,o){l&1&&(e(0,"span"),n(1,"Send Reply"),i())}function se(l,o){if(l&1){let t=b();e(0,"div",51)(1,"div",52),f(2,re,22,9,"div",53),i(),e(3,"div",54)(4,"div",55)(5,"h3"),n(6,"Reply to Ticket"),i(),e(7,"div",56)(8,"button",57),n(9,"Internal Note"),i(),e(10,"button",57),n(11,"Forward"),i()()(),e(12,"div",58)(13,"textarea",59),O("ngModelChange",function(s){_(t);let g=m(2);return P(g.replyContent,s)||(g.replyContent=s),h(s)}),n(14,"              "),i(),e(15,"div",60)(16,"div",61)(17,"label",62),d(18,"input",63),e(19,"span",64),n(20,"Internal note"),i()(),e(21,"label",62),d(22,"input",63),e(23,"span",64),n(24,"Close ticket"),i()()(),e(25,"div",65)(26,"button",66),n(27," Save as Draft "),i(),e(28,"button",67),x("click",function(){_(t);let s=m(2);return h(s.onSubmitReply())}),f(29,ae,2,0,"span",45)(30,le,2,0,"span",45),i()()()()()()}if(l&2){let t=m(2);a(2),c("ngForOf",t.ticket.messages)("ngForTrackBy",t.trackByMessageId),a(11),M("ngModel",t.replyContent),c("disabled",t.isSubmittingReply),a(13),c("disabled",t.isSubmittingReply),a(2),c("disabled",!t.replyContent.trim()||t.isSubmittingReply),a(),c("ngIf",t.isSubmittingReply),a(),c("ngIf",!t.isSubmittingReply)}}function ce(l,o){l&1&&(e(0,"div",51)(1,"div",82),u(),e(2,"svg",83),d(3,"path",84),i(),v(),e(4,"p"),n(5,"No links available"),i()()())}function de(l,o){if(l&1&&(e(0,"div",86),d(1,"div",87),e(2,"div",88)(3,"p"),n(4),i(),e(5,"span",89),n(6),i()()()),l&2){let t=o.$implicit,r=m(3);a(4),w("",t.author.name," ",t.author.type==="customer"?"replied":"responded"),a(2),p(r.getTimeAgo(t.createdAt))}}function pe(l,o){if(l&1&&(e(0,"div",51)(1,"div",85)(2,"div",86),d(3,"div",87),e(4,"div",88)(5,"p"),n(6),i(),e(7,"span",89),n(8),i()()(),f(9,de,7,3,"div",90),i()()),l&2){let t=m(2);a(6),k("Ticket created by ",t.ticket.requester.name),a(2),p(t.getTimeAgo(t.ticket.createdAt)),a(),c("ngForOf",t.ticket.messages)}}function me(l,o){l&1&&(e(0,"div",51)(1,"div",82),u(),e(2,"svg",83),d(3,"path",91),i(),v(),e(4,"p"),n(5,"No approvals required"),i()()())}function ge(l,o){l&1&&(e(0,"div",51)(1,"div",82),u(),e(2,"svg",83),d(3,"path",92),i(),v(),e(4,"p"),n(5,"No work logged"),i()()())}function ue(l,o){l&1&&(e(0,"span"),n(1,"--"),i())}function fe(l,o){l&1&&(e(0,"span"),n(1,", "),i())}function xe(l,o){if(l&1&&(e(0,"span",93),n(1),f(2,fe,2,0,"span",45),i()),l&2){let t=o.$implicit,r=o.last;a(),k(" ",t),a(),c("ngIf",!r)}}function ve(l,o){if(l&1&&(e(0,"div",33)(1,"label",34),n(2,"Resolution Due"),i(),e(3,"div",44),n(4),i()()),l&2){let t=m(2);a(4),p(t.formatDate(t.ticket.resolutionDue))}}function _e(l,o){if(l&1){let t=b();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h1",6),n(6),i(),e(7,"div",7),u(),e(8,"svg",8),d(9,"path",9),i(),v(),e(10,"span"),n(11,"Customer Portal"),i(),e(12,"span"),n(13,"\u2022"),i(),e(14,"span"),n(15),i()()(),e(16,"button",10),x("click",function(){_(t);let s=m();return h(s.onClose())}),u(),e(17,"svg",11),d(18,"path",12),i()()()(),v(),e(19,"div",13)(20,"div",14)(21,"div",15)(22,"nav",16),f(23,ie,3,4,"button",17),i()(),f(24,se,31,8,"div",18)(25,ce,6,0,"div",18)(26,pe,10,3,"div",18)(27,me,6,0,"div",18)(28,ge,6,0,"div",18),i(),e(29,"div",19)(30,"div",20)(31,"div",21)(32,"h3",22),n(33,"Requester Details"),i()(),e(34,"div",23)(35,"div",24)(36,"div",25),n(37),i(),e(38,"div",26)(39,"div",27),n(40),i(),e(41,"div",28),n(42),i()()(),e(43,"div",29)(44,"div",30)(45,"span",31),n(46,"Contact Group"),i(),e(47,"span",32),n(48),i()(),e(49,"div",30)(50,"span",31),n(51,"Phone Number"),i(),e(52,"span",32),n(53),i()(),e(54,"div",30)(55,"span",31),n(56,"Mobile Number"),i(),e(57,"span",32),n(58),i()(),e(59,"div",30)(60,"span",31),n(61,"Time Zone"),i(),e(62,"span",32),n(63),i()()()()(),e(64,"div",20)(65,"div",21)(66,"h3",22),n(67,"Ticket Properties"),i()(),e(68,"div",23)(69,"div",33)(70,"label",34),n(71,"Status"),i(),e(72,"select",35),x("change",function(s){_(t);let g=m();return h(g.onStatusChange(s))}),e(73,"option",36),n(74,"Open"),i(),e(75,"option",37),n(76,"Pending"),i(),e(77,"option",38),n(78,"Resolved"),i(),e(79,"option",39),n(80,"Closed"),i()()(),e(81,"div",33)(82,"label",34),n(83,"Priority"),i(),e(84,"select",35),x("change",function(s){_(t);let g=m();return h(g.onPriorityChange(s))}),e(85,"option",40),n(86,"Low"),i(),e(87,"option",41),n(88,"Normal"),i(),e(89,"option",42),n(90,"High"),i(),e(91,"option",43),n(92,"Urgent"),i()()(),e(93,"div",33)(94,"label",34),n(95,"Assignee"),i(),e(96,"div",44),n(97),i()(),e(98,"div",33)(99,"label",34),n(100,"Type"),i(),e(101,"div",44),n(102),i()(),e(103,"div",33)(104,"label",34),n(105,"Category"),i(),e(106,"div",44),n(107),i()(),e(108,"div",33)(109,"label",34),n(110,"Tags"),i(),e(111,"div",44),f(112,ue,2,0,"span",45)(113,xe,3,2,"span",46),i()(),e(114,"div",33)(115,"label",34),n(116,"Visibility"),i(),e(117,"div",44),n(118),i()(),e(119,"div",33)(120,"label",34),n(121,"Created"),i(),e(122,"div",44),n(123),i()(),f(124,ve,5,1,"div",47),i()()()()()()}if(l&2){let t=m();a(6),p(t.ticket.title),a(9),p(t.getTimeAgo(t.ticket.createdAt)),a(8),c("ngForOf",t.tabs),a(),c("ngIf",t.activeTab==="messages"),a(),c("ngIf",t.activeTab==="links"),a(),c("ngIf",t.activeTab==="activities"),a(),c("ngIf",t.activeTab==="approvals"),a(),c("ngIf",t.activeTab==="worklog"),a(8),S("background","linear-gradient(135deg, #"+t.ticket.requester.initials.charCodeAt(0).toString(16)+t.ticket.requester.initials.charCodeAt(1).toString(16)+"00, #"+t.ticket.requester.initials.charCodeAt(1).toString(16)+t.ticket.requester.initials.charCodeAt(0).toString(16)+"00)"),a(),k(" ",t.ticket.requester.initials," "),a(3),p(t.ticket.requester.name),a(2),p(t.ticket.requester.email),a(6),p(t.ticket.requester.contactGroup||"--"),a(5),p(t.ticket.requester.phoneNumber||"--"),a(5),p(t.ticket.requester.mobileNumber||"--"),a(5),p(t.ticket.requester.timeZone||"--"),a(9),c("value",t.ticket.status),a(12),c("value",t.ticket.priority),a(13),p(t.ticket.assignee.name),a(5),p(t.ticket.type||"--"),a(5),p(t.ticket.category||"--"),a(5),c("ngIf",t.ticket.tags.length===0),a(),c("ngForOf",t.ticket.tags),a(5),p(t.ticket.visibility),a(5),p(t.formatDate(t.ticket.createdAt)),a(),c("ngIf",t.ticket.resolutionDue)}}var B=class l{constructor(o){this.ticketService=o}ticketId="";closed=new G;ticket=null;replyContent="";isSubmittingReply=!1;activeTab="messages";destroy$=new A;tabs=[{id:"messages",label:"Messages",count:0},{id:"links",label:"Links",count:0},{id:"activities",label:"Activities",count:0},{id:"approvals",label:"Approvals",count:0},{id:"worklog",label:"Worklog",count:0}];ngOnInit(){this.ticketId&&this.loadTicket()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadTicket(){this.ticketService.getTicketById(this.ticketId).pipe(y(this.destroy$)).subscribe(o=>{this.ticket=o||null,this.ticket&&this.updateTabCounts()})}updateTabCounts(){this.ticket&&(this.tabs=this.tabs.map(o=>{switch(o.id){case"messages":return I(E({},o),{count:this.ticket.messages.length});case"activities":return I(E({},o),{count:this.ticket.messages.length+2});default:return I(E({},o),{count:0})}}))}setActiveTab(o){this.activeTab=o}onSubmitReply(){!this.ticket||!this.replyContent.trim()||this.isSubmittingReply||(this.isSubmittingReply=!0,this.ticketService.addMessageToTicket(this.ticket.id,this.replyContent.trim(),"agent1","Likitha","LI",!1).pipe(y(this.destroy$)).subscribe({next:o=>{o&&(this.replyContent="",this.loadTicket()),this.isSubmittingReply=!1},error:o=>{console.error("Error submitting reply:",o),this.isSubmittingReply=!1}}))}onClose(){this.closed.emit()}updateTicketStatus(o){this.ticket&&this.ticketService.updateTicket(this.ticket.id,{status:o}).pipe(y(this.destroy$)).subscribe({next:t=>{t&&(this.ticket=t)},error:t=>{console.error("Error updating ticket status:",t)}})}updateTicketPriority(o){this.ticket&&this.ticketService.updateTicket(this.ticket.id,{priority:o}).pipe(y(this.destroy$)).subscribe({next:t=>{t&&(this.ticket=t)},error:t=>{console.error("Error updating ticket priority:",t)}})}getTimeAgo(o){let r=Math.floor((new Date().getTime()-o.getTime())/1e3);if(r<60)return"Just now";if(r<3600){let s=Math.floor(r/60);return`${s} minute${s>1?"s":""} ago`}else if(r<86400){let s=Math.floor(r/3600);return`${s} hour${s>1?"s":""} ago`}else{let s=Math.floor(r/86400);return`${s} day${s>1?"s":""} ago`}}formatDate(o){return o.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}trackByMessageId(o,t){return t.id}onStatusChange(o){let t=o.target;t&&t.value&&this.updateTicketStatus(t.value)}onPriorityChange(o){let t=o.target;t&&t.value&&this.updateTicketPriority(t.value)}static \u0275fac=function(t){return new(t||l)(T(L))};static \u0275cmp=D({type:l,selectors:[["app-ticket-detail"]],inputs:{ticketId:"ticketId"},outputs:{closed:"closed"},decls:1,vars:1,consts:[["class","ticket-detail-overlay",4,"ngIf"],[1,"ticket-detail-overlay"],[1,"ticket-detail-container"],[1,"detail-header"],[1,"header-content"],[1,"ticket-info"],[1,"ticket-title"],[1,"ticket-meta"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"],["aria-label","Close ticket detail",1,"close-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"detail-content"],[1,"messages-section"],[1,"tabs-container"],[1,"tabs-nav"],["class","tab-button",3,"active","click",4,"ngFor","ngForOf"],["class","tab-content",4,"ngIf"],[1,"properties-section"],[1,"property-panel"],[1,"panel-header"],[1,"panel-title"],[1,"panel-content"],[1,"requester-info"],[1,"requester-avatar"],[1,"requester-details"],[1,"requester-name"],[1,"requester-email"],[1,"contact-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"property-field"],[1,"property-label"],[1,"property-select",3,"change","value"],["value","Open"],["value","Pending"],["value","Resolved"],["value","Closed"],["value","Low"],["value","Normal"],["value","High"],["value","Urgent"],[1,"property-value"],[4,"ngIf"],["class","tag",4,"ngFor","ngForOf"],["class","property-field",4,"ngIf"],[1,"tab-button",3,"click"],["class","tab-count",4,"ngIf"],[1,"tab-count"],[1,"tab-content"],[1,"messages-list"],["class","message-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"reply-section"],[1,"reply-header"],[1,"reply-options"],[1,"option-btn"],[1,"reply-form"],["placeholder","Type your reply here...","rows","4",1,"reply-textarea",3,"ngModelChange","ngModel","disabled"],[1,"reply-actions"],[1,"reply-options-left"],[1,"checkbox-container"],["type","checkbox",1,"checkbox-input"],[1,"checkbox-label"],[1,"reply-buttons"],["type","button",1,"btn-secondary",3,"disabled"],["type","button",1,"btn-primary",3,"click","disabled"],[1,"message-item"],[1,"message-header"],[1,"message-author"],[1,"author-avatar"],[1,"author-info"],[1,"author-name"],[1,"message-meta"],[1,"message-time"],[1,"message-content"],[1,"message-actions"],["title","Share",1,"action-btn"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],["title","Edit",1,"action-btn"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"],[1,"empty-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"empty-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"],[1,"activities-list"],[1,"activity-item"],[1,"activity-dot"],[1,"activity-content"],[1,"activity-time"],["class","activity-item",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"tag"]],template:function(t,r){t&1&&f(0,_e,125,27,"div",0),t&2&&c("ngIf",r.ticket)},dependencies:[q,V,z,$,N,H,j,F,R],styles:[".ticket-detail-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.ticket-detail-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:1200px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.detail-header[_ngcontent-%COMP%]{background:#fafbfc;border-bottom:1px solid #f3f4f6;padding:20px 24px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between}.ticket-info[_ngcontent-%COMP%]{flex:1;min-width:0}.ticket-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#111827;margin:0 0 8px;line-height:1.4}.ticket-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#6b7280}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:8px;border-radius:6px;transition:all .2s ease;flex-shrink:0}.close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.detail-content[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.messages-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;border-right:1px solid #f3f4f6;overflow:hidden}.tabs-container[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;background:#fff}.tabs-nav[_ngcontent-%COMP%]{display:flex;padding:0 24px;overflow-x:auto}.tab-button[_ngcontent-%COMP%]{background:none;border:none;padding:16px 20px;font-size:14px;font-weight:500;color:#6b7280;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s ease;white-space:nowrap}.tab-button[_ngcontent-%COMP%]:hover{color:#374151}.tab-button.active[_ngcontent-%COMP%]{color:#7c3aed;border-bottom-color:#7c3aed}.tab-count[_ngcontent-%COMP%]{margin-left:4px;font-weight:400}.tab-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column}.messages-list[_ngcontent-%COMP%]{flex:1;padding:24px}.message-item[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;padding-bottom:24px;margin-bottom:24px}.message-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.message-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:12px}.message-author[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.author-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:16px;flex-shrink:0}.author-info[_ngcontent-%COMP%]{min-width:0}.author-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#111827;margin-bottom:2px}.message-meta[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.message-time[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-align:right}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#374151;line-height:1.6;margin-bottom:12px;padding-left:52px}.message-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding-left:52px}.action-btn[_ngcontent-%COMP%]{background:none;border:none;color:#9ca3af;cursor:pointer;padding:6px;border-radius:4px;transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#6b7280}.reply-section[_ngcontent-%COMP%]{border-top:1px solid #f3f4f6;background:#fafbfc;padding:24px}.reply-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.reply-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0}.reply-options[_ngcontent-%COMP%]{display:flex;gap:12px}.option-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#374151;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s ease}.option-btn[_ngcontent-%COMP%]:hover{background:#f9fafb}.reply-form[_ngcontent-%COMP%]{background:#fff;border-radius:8px;border:1px solid #d1d5db;overflow:hidden}.reply-textarea[_ngcontent-%COMP%]{width:100%;border:none;padding:16px;font-size:14px;color:#374151;resize:vertical;min-height:100px;font-family:inherit}.reply-textarea[_ngcontent-%COMP%]:focus{outline:none}.reply-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.reply-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-top:1px solid #f3f4f6;background:#fafbfc}.reply-options-left[_ngcontent-%COMP%]{display:flex;gap:16px}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;cursor:pointer}.checkbox-input[_ngcontent-%COMP%]{width:14px;height:14px;accent-color:#7c3aed}.checkbox-label[_ngcontent-%COMP%]{font-size:13px;color:#374151}.reply-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#8b5cf6);color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d9,#7c3aed);transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 24px;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:16px;color:#d1d5db}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0}.activities-list[_ngcontent-%COMP%]{padding:24px}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;margin-bottom:16px}.activity-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.activity-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#7c3aed;border-radius:50%;margin-top:6px;flex-shrink:0}.activity-content[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#374151;margin:0 0 4px}.activity-time[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.properties-section[_ngcontent-%COMP%]{width:320px;background:#fafbfc;overflow-y:auto;flex-shrink:0}.property-panel[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6}.property-panel[_ngcontent-%COMP%]:last-child{border-bottom:none}.panel-header[_ngcontent-%COMP%]{padding:20px 24px 16px;border-bottom:1px solid #f3f4f6;background:#fff}.panel-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0}.panel-content[_ngcontent-%COMP%]{padding:20px 24px}.requester-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.requester-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:18px;flex-shrink:0}.requester-details[_ngcontent-%COMP%]{flex:1;min-width:0}.requester-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin-bottom:4px}.requester-email[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.contact-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.detail-label[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:14px;color:#374151;text-align:right}.property-field[_ngcontent-%COMP%]{margin-bottom:16px}.property-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.property-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#374151;margin-bottom:6px}.property-select[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;background:#fff;color:#374151;cursor:pointer}.property-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 2px #7c3aed1a}.property-value[_ngcontent-%COMP%]{font-size:14px;color:#374151;padding:8px 0}.tag[_ngcontent-%COMP%]{font-size:14px;color:#7c3aed}@media (max-width: 1024px){.properties-section[_ngcontent-%COMP%]{width:280px}}@media (max-width: 768px){.ticket-detail-overlay[_ngcontent-%COMP%]{padding:10px}.ticket-detail-container[_ngcontent-%COMP%]{max-height:95vh}.detail-content[_ngcontent-%COMP%]{flex-direction:column}.properties-section[_ngcontent-%COMP%]{width:100%;max-height:300px;border-right:none;border-top:1px solid #f3f4f6}.messages-section[_ngcontent-%COMP%]{border-right:none}.reply-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:stretch}.reply-buttons[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 480px){.detail-header[_ngcontent-%COMP%]{padding:16px 20px}.ticket-title[_ngcontent-%COMP%]{font-size:18px}.messages-list[_ngcontent-%COMP%], .reply-section[_ngcontent-%COMP%]{padding:20px}.panel-content[_ngcontent-%COMP%]{padding:16px 20px}.tabs-nav[_ngcontent-%COMP%]{padding:0 20px}.tab-button[_ngcontent-%COMP%]{padding:12px 16px}}"]})};function he(l,o){if(l&1){let t=b();e(0,"div",65),x("click",function(){let s=_(t).$implicit,g=m(2);return h(g.selectView(s))}),e(1,"span"),n(2),i(),e(3,"span",24),n(4),i()()}if(l&2){let t=o.$implicit;C("bg-purple-100",t.name==="All Pending Tickets")("text-purple-700",t.name==="All Pending Tickets")("text-gray-700",t.name!=="All Pending Tickets")("hover:bg-gray-50",t.name!=="All Pending Tickets"),a(2),p(t.name),a(2),p(t.count)}}function ke(l,o){if(l&1&&(e(0,"div")(1,"div",58)(2,"div",33),d(3,"input",59),u(),e(4,"svg",60),d(5,"path",36),i(),e(6,"svg",61),d(7,"path",62),i()()(),v(),e(8,"div",63),f(9,he,5,10,"div",64),i()()),l&2){let t=m();a(9),c("ngForOf",t.views)}}function be(l,o){if(l&1){let t=b();e(0,"tr",66),x("click",function(){let s=_(t).$implicit,g=m();return h(g.selectTicket(s))}),e(1,"td")(2,"input",67),x("click",function(s){return _(t),h(s.stopPropagation())}),i()(),e(3,"td")(4,"div",68)(5,"div",69),n(6),i(),e(7,"div",70)(8,"div",71),n(9),i(),e(10,"div",72),n(11),i()()()(),e(12,"td")(13,"div",73),n(14),i()(),e(15,"td")(16,"span",74),n(17),i()(),e(18,"td")(19,"span",75),n(20),i()(),e(21,"td")(22,"div",76),n(23),i()()()}if(l&2){let t=o.$implicit,r=m();C("selected",(r.selectedTicket==null?null:r.selectedTicket.id)===t.id),a(5),S("background","linear-gradient(135deg, #"+t.requester.initials.charCodeAt(0).toString(16)+t.requester.initials.charCodeAt(1).toString(16)+"00, #"+t.requester.initials.charCodeAt(1).toString(16)+t.requester.initials.charCodeAt(0).toString(16)+"00)"),a(),k(" ",t.requester.initials," "),a(3),p(t.requester.name),a(2),p(t.requester.email),a(2),c("title",t.title),a(),p(t.title),a(2),C("status-open",t.status==="Open")("status-pending",t.status==="Pending")("status-resolved",t.status==="Resolved")("status-closed",t.status==="Closed"),a(),k(" ",t.status," "),a(2),C("priority-urgent",t.priority==="Urgent")("priority-high",t.priority==="High")("priority-normal",t.priority==="Normal")("priority-low",t.priority==="Low"),a(),k(" ",t.priority," "),a(3),p(r.getTimeAgo(t.createdAt))}}function ye(l,o){l&1&&(e(0,"span"),n(1,"Try adjusting your search terms"),i())}function Ce(l,o){l&1&&(e(0,"span"),n(1,"Create your first ticket to get started"),i())}function Se(l,o){if(l&1){let t=b();e(0,"button",84),x("click",function(){_(t);let s=m(2);return h(s.onCreateTicket())}),n(1,` + Create Ticket
`),i()}}function Te(l,o){if(l&1&&(e(0,"tr")(1,"td",77)(2,"div",78),u(),e(3,"svg",79),d(4,"path",80),i(),v(),e(5,"div",81),n(6,"No tickets found"),i(),e(7,"div",82),f(8,ye,2,0,"span",19)(9,Ce,2,0,"span",19),i(),f(10,Se,2,0,"button",83),i()()()),l&2){let t=m();a(8),c("ngIf",t.searchQuery),a(),c("ngIf",!t.searchQuery),a(),c("ngIf",!t.searchQuery)}}function we(l,o){if(l&1&&(e(0,"div",85)(1,"div",86)(2,"div",87),n(3,"Requester Details"),i(),e(4,"div",88)(5,"div",89)(6,"div",69),n(7),i(),e(8,"div",70)(9,"div",71),n(10),i(),e(11,"div",72),n(12),i()()(),e(13,"div",90)(14,"div",91)(15,"label",92),n(16,"Contact Group"),i(),e(17,"div",93),n(18,"--"),i()(),e(19,"div",91)(20,"label",92),n(21,"Phone Number"),i(),e(22,"div",93),n(23,"--"),i()(),e(24,"div",91)(25,"label",92),n(26,"Mobile Number"),i(),e(27,"div",93),n(28,"--"),i()(),e(29,"div",91)(30,"label",92),n(31,"Time Zone"),i(),e(32,"div",93),n(33,"--"),i()()()()(),e(34,"div",86)(35,"div",87),n(36,"Ticket Properties"),i(),e(37,"div",88)(38,"div",91)(39,"label",92),n(40,"Status"),i(),e(41,"select",94)(42,"option",95),n(43,"Select Status"),i(),e(44,"option",96),n(45,"Open"),i(),e(46,"option",97),n(47,"Pending"),i(),e(48,"option",98),n(49,"Resolved"),i(),e(50,"option",99),n(51,"Closed"),i()()(),e(52,"div",91)(53,"label",92),n(54,"Assignee"),i(),e(55,"select",94)(56,"option",95),n(57,"Select Assignee"),i(),e(58,"option",100),n(59,"Likitha"),i()()(),e(60,"div",91)(61,"label",92),n(62,"Resolution Due"),i(),d(63,"input",101),i(),e(64,"div",91)(65,"label",92),n(66,"Tags"),i(),d(67,"input",102),e(68,"div",103),n(69,"Separate multiple tags with commas"),i()(),e(70,"div",91)(71,"label",92),n(72,"Visibility"),i(),e(73,"select",94)(74,"option",104),n(75,"Public"),i(),e(76,"option",105),n(77,"Private"),i(),e(78,"option",106),n(79,"Internal"),i()()()()()()),l&2){let t=m();a(6),S("background","linear-gradient(135deg, #"+t.selectedTicket.requester.initials.charCodeAt(0).toString(16)+t.selectedTicket.requester.initials.charCodeAt(1).toString(16)+"00, #"+t.selectedTicket.requester.initials.charCodeAt(1).toString(16)+t.selectedTicket.requester.initials.charCodeAt(0).toString(16)+"00)"),a(),k(" ",t.selectedTicket.requester.initials," "),a(3),p(t.selectedTicket.requester.name),a(2),p(t.selectedTicket.requester.email)}}function Me(l,o){if(l&1){let t=b();e(0,"app-ticket-create",107),x("ticketCreated",function(s){_(t);let g=m();return h(g.onTicketCreated(s))})("cancelled",function(){_(t);let s=m();return h(s.onCreateTicketCancelled())}),i()}}function Pe(l,o){if(l&1){let t=b();e(0,"app-ticket-detail",108),x("closed",function(){_(t);let s=m();return h(s.onTicketDetailClosed())}),i()}if(l&2){let t=m();c("ticketId",t.selectedTicketId)}}var Z=class l{constructor(o,t){this.ticketService=o;this.route=t}searchQuery="";currentSort="Created - Desc";selectedTicket=null;selectedTicketId="";tickets=[];filteredTickets=[];showCreateTicket=!1;showTicketDetail=!1;showAllViews=!0;currentFilter="all";destroy$=new A;views=[{name:"All Pending Tickets",count:0},{name:"All Resolution Overdue Tickets",count:0},{name:"All Response Overdue Tickets",count:0},{name:"All Tickets",count:0},{name:"All Tickets Resolution Due Today",count:0},{name:"All Unassigned Tickets",count:0},{name:"All Unsolved Tickets",count:0},{name:"My Pending Tickets",count:0}];currentPage=1;totalPages=1;goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.loadPageData(this.currentPage))}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadPageData(this.currentPage))}loadPageData(o){}ngOnInit(){this.loadTickets(),this.loadCounts(),this.route.queryParams.pipe(y(this.destroy$)).subscribe(o=>{o.filter&&(this.currentFilter=o.filter,this.applyFiltersAndSort())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadTickets(){this.ticketService.getTickets().pipe(y(this.destroy$)).subscribe(o=>{this.tickets=o,this.applyFiltersAndSort()})}loadCounts(){this.ticketService.getCounts().pipe(y(this.destroy$)).subscribe(o=>{this.views=[{name:"All Pending Tickets",count:o.pending},{name:"All Resolution Overdue Tickets",count:o.resolutionDue},{name:"All Response Overdue Tickets",count:o.responseDue},{name:"All Tickets",count:o.total},{name:"All Tickets Resolution Due Today",count:0},{name:"All Unassigned Tickets",count:0},{name:"All Unsolved Tickets",count:o.open+o.pending},{name:"My Pending Tickets",count:o.pending}]})}applyFiltersAndSort(){let o=[...this.tickets];if(o=this.applyFilter(o),this.searchQuery.trim()){let t=this.searchQuery.toLowerCase();o=o.filter(r=>r.title.toLowerCase().includes(t)||r.requester.name.toLowerCase().includes(t)||r.requester.email.toLowerCase().includes(t)||r.id.toLowerCase().includes(t))}o=this.ticketService.sortTickets(o,this.currentSort),this.filteredTickets=o}applyFilter(o){let t=new Date;switch(this.currentFilter){case"pending":return o.filter(r=>r.status==="Pending");case"resolution-overdue":return o.filter(r=>r.resolutionDue&&r.resolutionDue<t&&r.status!=="Resolved"&&r.status!=="Closed");case"response-overdue":return o.filter(r=>{let s=r.messages[r.messages.length-1];return s?(t.getTime()-s.createdAt.getTime())/(1e3*3600)>24&&s.author.type==="customer"&&r.status!=="Resolved"&&r.status!=="Closed":!1});case"resolution-due":return o.filter(r=>r.resolutionDue&&r.resolutionDue>=t&&r.status!=="Resolved"&&r.status!=="Closed");case"unassigned":return o.filter(r=>r.assignee.name==="Auto Assign"||r.assignee.name==="Unassigned");case"unsolved":return o.filter(r=>r.status==="Pending"||r.status==="Open"||r.status==="On Hold");case"my-pending":return o.filter(r=>r.status==="Pending"&&r.assignee.name==="Likitha");case"all":default:return o}}selectTicket(o){this.selectedTicket=o,this.selectedTicketId=o.id,this.showTicketDetail=!0}onSearch(){this.applyFiltersAndSort()}onSortChange(o){this.currentSort=o,this.applyFiltersAndSort()}onCreateTicket(){this.showCreateTicket=!0}onTicketCreated(o){this.showCreateTicket=!1}onCreateTicketCancelled(){this.showCreateTicket=!1}onTicketDetailClosed(){this.showTicketDetail=!1,this.selectedTicket=null,this.selectedTicketId=""}getTimeAgo(o){let r=Math.floor((new Date().getTime()-o.getTime())/1e3);if(r<60)return"Just now";if(r<3600){let s=Math.floor(r/60);return`${s} minute${s>1?"s":""} ago`}else if(r<86400){let s=Math.floor(r/3600);return`${s} hour${s>1?"s":""} ago`}else{let s=Math.floor(r/86400);return`${s} day${s>1?"s":""} ago`}}trackByTicketId(o,t){return t.id}toggleAllViews(){this.showAllViews=!this.showAllViews}selectView(o){console.log("Selected view:",o.name)}getCurrentFilterLabel(){switch(this.currentFilter){case"pending":return"All Pending Tickets";case"resolution-overdue":return"All Resolution Overdue Tickets";case"response-overdue":return"All Response Overdue Tickets";case"resolution-due":return"All Tickets Resolution Due";case"unassigned":return"All Unassigned Tickets";case"unsolved":return"All Unsolved Tickets";case"my-pending":return"My Pending Tickets";case"all":default:return"All Tickets"}}static \u0275fac=function(t){return new(t||l)(T(L),T(U))};static \u0275cmp=D({type:l,selectors:[["app-tickets"]],decls:107,vars:16,consts:[[1,"flex","h-full","bg-gray-50","ticket-layout"],[1,"w-80","bg-white","border-r","border-gray-200","flex","flex-col","hidden","md:flex"],[1,"p-4","border-b","border-gray-200"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],["aria-label","Refresh tickets",1,"p-1","text-gray-400","hover:text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"mb-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-purple-600","hover:text-purple-700","text-sm","font-medium",3,"click"],[1,"mb-3"],[1,"flex","items-center","text-sm","text-gray-700","py-2","px-2","hover:bg-gray-50","rounded","cursor-pointer"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"],[1,"flex","items-center","justify-between","w-full","mb-2","text-left",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","text-gray-400","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[4,"ngIf"],[1,"space-y-1","pt-3","border-t","border-gray-200"],[1,"flex","items-center","justify-between","text-sm","text-gray-700","py-1","px-2","hover:bg-gray-50","rounded","cursor-pointer"],[1,"flex","items-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex-1","flex","flex-col"],[1,"ticket-list-container"],[1,"ticket-list-header"],[1,"ticket-controls"],[1,"ticket-controls-left"],[1,"control-select"],[1,"relative"],["type","text","placeholder","Search by Title or ID",1,"search-input-small",3,"ngModelChange","keyup.enter","ngModel"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"search-icon-small"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"ticket-controls-right"],[1,"control-select",3,"ngModelChange","change","ngModel"],[1,"overflow-x-auto"],[1,"ticket-table"],[2,"width","40px"],["type","checkbox",1,"rounded","border-gray-300"],[2,"width","200px"],[2,"width","100px"],[2,"width","120px"],["class","ticket-row",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","justify-between","mt-6","pt-4","border-t","border-gray-200","px-6","pb-4","bg-white","dark:bg-gray-900","rounded-md","shadow-sm"],[1,"flex","items-center","text-lg","font-semibold","text-black","hover:text-gray-800","px-4","py-2","rounded-lg","transition-colors","duration-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","items-center","space-x-2"],[1,"text-lg","text-gray-700","dark:text-gray-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["class","w-80 ticket-details-panel hidden md:block",4,"ngIf"],[3,"ticketCreated","cancelled",4,"ngIf"],[3,"ticketId","closed",4,"ngIf"],[1,"mb-2"],["type","text","placeholder","Search",1,"w-full","pl-8","pr-3","py-1","text-sm","border","border-gray-300","rounded","focus:outline-none","focus:ring-1","focus:ring-purple-500","focus:border-purple-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","text-gray-400","absolute","left-2","top-1.5"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","text-gray-400","absolute","right-2","top-1.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"space-y-1"],["class","flex items-center justify-between text-sm py-1 px-2 rounded cursor-pointer transition-colors",3,"bg-purple-100","text-purple-700","text-gray-700","hover:bg-gray-50","click",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","text-sm","py-1","px-2","rounded","cursor-pointer","transition-colors",3,"click"],[1,"ticket-row",3,"click"],["type","checkbox",1,"rounded","border-gray-300",3,"click"],[1,"requester-info"],[1,"requester-avatar"],[1,"requester-details"],[1,"requester-name"],[1,"requester-email"],[1,"ticket-title",3,"title"],[1,"status-badge"],[1,"priority-badge"],[1,"created-time"],["colspan","6",1,"text-center","py-8"],[1,"empty-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"empty-state-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"empty-state-title"],[1,"empty-state-description"],["class","px-8 py-3 mt-6 rounded-lg bg-gray-100 text-gray-900 font-semibold shadow hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-1 transition-all duration-200",3,"click",4,"ngIf"],[1,"px-8","py-3","mt-6","rounded-lg","bg-gray-100","text-gray-900","font-semibold","shadow","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-400","focus:ring-offset-1","transition-all","duration-200",3,"click"],[1,"w-80","ticket-details-panel","hidden","md:block"],[1,"panel-section"],[1,"section-title"],[1,"section-content"],[1,"requester-info","mb-4"],[1,"contact-grid"],[1,"field-group"],[1,"field-label"],[1,"field-value"],[1,"field-input"],["value",""],["value","open"],["value","pending"],["value","resolved"],["value","closed"],["value","likitha"],["type","date","placeholder","Select date",1,"field-input"],["type","text","placeholder","Add tags",1,"field-input"],[1,"field-hint"],["value","public"],["value","private"],["value","internal"],[3,"ticketCreated","cancelled"],[3,"closed","ticketId"]],template:function(t,r){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),n(5),i(),e(6,"button",5),u(),e(7,"svg",6),d(8,"path",7),i()()(),v(),e(9,"div",8)(10,"div",9)(11,"h3",10),n(12,"Views"),i(),e(13,"button",11),x("click",function(){return r.onCreateTicket()}),n(14," Create "),i()(),e(15,"div",12)(16,"div",13),u(),e(17,"svg",14),d(18,"path",15),i(),n(19," Saved Tickets "),i()(),v(),e(20,"div",12)(21,"button",16),x("click",function(){return r.toggleAllViews()}),e(22,"span",10),n(23,"All Views"),i(),u(),e(24,"svg",17),d(25,"path",18),i()(),f(26,ke,10,1,"div",19),i(),v(),e(27,"div",20)(28,"div",21)(29,"div",22),u(),e(30,"svg",14),d(31,"path",23),i(),n(32," Suspended Emails "),i(),v(),e(33,"span",24),n(34,"0"),i()(),e(35,"div",21)(36,"div",22),u(),e(37,"svg",14),d(38,"path",25),i(),n(39," Spam Tickets "),i(),v(),e(40,"span",24),n(41,"0"),i()(),e(42,"div",21)(43,"div",22),u(),e(44,"svg",14),d(45,"path",26),i(),n(46," Deleted Tickets "),i(),v(),e(47,"span",24),n(48,"0"),i()()()()()(),e(49,"div",27)(50,"div",28)(51,"div",29)(52,"div",30)(53,"div",31)(54,"select",32)(55,"option"),n(56,"All Brands"),i()(),e(57,"div",33)(58,"input",34),O("ngModelChange",function(g){return P(r.searchQuery,g)||(r.searchQuery=g),g}),x("keyup.enter",function(){return r.onSearch()}),i(),u(),e(59,"svg",35),d(60,"path",36),i()()(),v(),e(61,"div",37)(62,"button",32),n(63,"Export"),i(),e(64,"select",38),O("ngModelChange",function(g){return P(r.currentSort,g)||(r.currentSort=g),g}),x("change",function(){return r.onSortChange(r.currentSort)}),e(65,"option"),n(66,"Created - Desc"),i(),e(67,"option"),n(68,"Modified - Desc"),i(),e(69,"option"),n(70,"Priority - High to Low"),i(),e(71,"option"),n(72,"Status - A to Z"),i()()()()(),e(73,"div",39)(74,"table",40)(75,"thead")(76,"tr")(77,"th",41),d(78,"input",42),i(),e(79,"th",43),n(80,"Requester"),i(),e(81,"th"),n(82,"Ticket Title"),i(),e(83,"th",44),n(84,"Status"),i(),e(85,"th",44),n(86,"Priority"),i(),e(87,"th",45),n(88,"Created"),i()()(),e(89,"tbody"),f(90,be,24,28,"tr",46)(91,Te,11,3,"tr",19),i()()(),e(92,"div",47)(93,"button",48),x("click",function(){return r.goToPreviousPage()}),u(),e(94,"svg",49),d(95,"path",50),i(),n(96," Previous "),i(),v(),e(97,"div",51)(98,"span",52),n(99),i()(),e(100,"button",48),x("click",function(){return r.goToNextPage()}),n(101," Next "),u(),e(102,"svg",53),d(103,"path",54),i()()(),f(104,we,80,5,"div",55),i(),f(105,Me,1,0,"app-ticket-create",56)(106,Pe,1,1,"app-ticket-detail",57),i()()),t&2&&(a(5),p(r.getCurrentFilterLabel()),a(19),C("rotate-180",!r.showAllViews),a(2),c("ngIf",r.showAllViews),a(32),M("ngModel",r.searchQuery),a(6),M("ngModel",r.currentSort),a(26),c("ngForOf",r.filteredTickets)("ngForTrackBy",r.trackByTicketId),a(),c("ngIf",r.filteredTickets.length===0),a(2),c("disabled",r.currentPage===1),a(6),w(" Page ",r.currentPage," of ",r.totalPages," "),a(),c("disabled",r.currentPage===r.totalPages),a(4),c("ngIf",r.selectedTicket),a(),c("ngIf",r.showCreateTicket),a(),c("ngIf",r.showTicketDetail&&r.selectedTicketId))},dependencies:[q,V,z,$,N,H,j,W,F,R,Q,B],styles:[".ticket-list-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #f3f4f6;overflow:hidden}.ticket-list-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #f3f4f6;background:#fafbfc}.ticket-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}.ticket-controls-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1;min-width:0}.ticket-controls-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.control-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;background:#fff;color:#374151;min-width:120px;transition:all .2s ease}.control-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 2px #7c3aed1a}.search-input-small[_ngcontent-%COMP%]{padding:8px 12px 8px 36px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;background:#fff;color:#374151;width:240px;transition:all .2s ease}.search-input-small[_ngcontent-%COMP%]:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 2px #7c3aed1a}.search-icon-small[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:16px;height:16px;color:#9ca3af}.ticket-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.ticket-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 20px;text-align:left;font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;background:#f9fafb;border-bottom:1px solid #f3f4f6}.ticket-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #f3f4f6;vertical-align:middle}.ticket-row[_ngcontent-%COMP%]{transition:all .2s ease;cursor:pointer}.ticket-row[_ngcontent-%COMP%]:hover{background:#f9fafb}.ticket-row.selected[_ngcontent-%COMP%]{background:#faf5ff;border-left:4px solid #7c3aed}.requester-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.requester-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:14px;flex-shrink:0}.requester-details[_ngcontent-%COMP%]{min-width:0;flex:1}.requester-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#111827;margin-bottom:2px}.requester-email[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.ticket-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#111827;line-height:1.4;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:capitalize}.status-open[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-resolved[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.status-closed[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.priority-badge[_ngcontent-%COMP%]{font-size:12px;font-weight:500;text-transform:capitalize}.priority-urgent[_ngcontent-%COMP%]{color:#dc2626}.priority-high[_ngcontent-%COMP%]{color:#ea580c}.priority-normal[_ngcontent-%COMP%]{color:#2563eb}.priority-low[_ngcontent-%COMP%]{color:#6b7280}.created-time[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.ticket-details-panel[_ngcontent-%COMP%]{background:#fff;border-left:1px solid #f3f4f6;display:flex;flex-direction:column;height:100%}.panel-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #f3f4f6;background:#fafbfc}.panel-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin-bottom:8px;line-height:1.4}.panel-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;display:flex;align-items:center;gap:8px}.panel-section[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #f3f4f6}.panel-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin-bottom:16px;display:flex;align-items:center;justify-content:between}.section-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.field-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.field-input[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;background:#fff;color:#374151;transition:all .2s ease}.field-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 2px #7c3aed1a}.field-input[_ngcontent-%COMP%]:disabled{background:#f9fafb;color:#9ca3af;cursor:not-allowed}.field-value[_ngcontent-%COMP%]{padding:10px 12px;background:#f9fafb;border:1px solid #f3f4f6;border-radius:8px;font-size:14px;color:#374151}.field-hint[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.contact-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}@media (max-width: 1200px){.ticket-details-panel[_ngcontent-%COMP%]{width:320px}}@media (max-width: 768px){.ticket-controls[_ngcontent-%COMP%], .ticket-controls-left[_ngcontent-%COMP%], .ticket-controls-right[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-input-small[_ngcontent-%COMP%]{width:100%}.contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.ticket-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ticket-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px}.panel-section[_ngcontent-%COMP%]{padding:20px}}.empty-state[_ngcontent-%COMP%]{padding:60px 24px;text-align:center;color:#6b7280}.empty-state-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto 16px;color:#d1d5db}.empty-state-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#374151;margin-bottom:8px}.empty-state-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.container[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--text-color)}.ticket-card[_ngcontent-%COMP%]{background:var(--card-bg);color:var(--text-color)}"]})};export{Z as TicketsComponent};
